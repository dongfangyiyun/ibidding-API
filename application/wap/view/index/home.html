{include file="/index/top" /}
<style>
  #top {
    background: url('__static__/wap/images/home.png') no-repeat;
    background-size: 100% 100%;
    height: 7rem;
    display: flex;
    align-items: center;
    position: relative;
  }

  #top #avatar {
    width: 18%;
    margin-left: 10%;
  }

  #top #setting {
    position: absolute;
    top: .5rem;
    right: .8rem;
    font-size: 1.3rem;
  }

  #top .level {
    background: #58abf1;
    border-radius: .2rem;
    padding: 0px .3rem;
  }
</style>
</head>

<body>
  <div id="app">
    <section class="aui-content aui-bg-white">
      <div class="aui-margin-5" id="top">
        <img :src="user.avatar" class="aui-img-round" id="avatar">
        <div class="aui-text-white aui-margin-l-15">
          <div v-text="user.nick_name" class="aui-font-size-18"></div>
          <div class="aui-font-size-12">
            <i class="aui-iconfont aui-icon-mobile aui-font-size-12"></i>
            <span v-text="user.mobile"></span>
          </div>
          <div class="aui-margin-t-5">
            <span class="level">
              <i class="iconfont icon-huiyuan aui-font-size-14"></i>
              <span class="aui-font-size-12" v-text="level"></span>
            </span>
            <span class="aui-margin-l-10" onclick="goto('level')">
              <i class="iconfont icon-tubiao312 aui-font-size-14"></i>
              <span class="aui-font-size-12">成长值:
                <span v-text="score"></span>
              </span>
              <i class="aui-iconfont aui-icon-right aui-font-size-10"></i>
            </span>
          </div>
        </div>
        <i class="iconfont icon-shezhishedingpeizhichilun aui-text-white" id="setting" onclick="goto('setting')"></i>
      </div>

    </section>
   <!--  <div class="aui-content aui-margin-t-10">
      <ul class="aui-list aui-list-in">
        <li class="aui-list-item" onclick="goto('order_list', {status: 0})">
          <div class="aui-list-item-inner aui-list-item-arrow">
            <div class="aui-list-item-title">我的订单</div>
            <div class="aui-list-item-right">
              <div style="font-size:0.7rem;">查看全部订单</div>
            </div>
          </div>
        </li>
      </ul>
    </div> -->

    <!-- <section class="aui-grid aui-margin-b-10">
      <div class="aui-row">
        <div class="aui-col-5" onclick="goto('order_list', {status: 1})">
          <i class="aui-iconfont iconfont icon-daifukuan" style="font-size:1.4rem;"></i>
          <div class="aui-bar-tab-label aui-font-size-12 aui-text-default">待付款</div>
          <div class="aui-badge" v-text="orderCount.wait_pay_num" v-if="orderCount.wait_pay_num"></div>
        </div>
        <div class="aui-col-5" onclick="goto('order_list', {status: 2})">
          <i class="aui-iconfont iconfont icon-daifahuo" style="font-size:1.4rem;"></i>
          <div class="aui-bar-tab-label aui-font-size-12 aui-text-default">待发货</div>
          <div class="aui-badge" v-text="orderCount.wait_ship_num" v-if="orderCount.wait_ship_num"></div>
        </div>
        <div class="aui-col-5" onclick="goto('order_list', {status: 3})">
          <i class="aui-iconfont iconfont icon-yifahuo" style="font-size:1.4rem;"></i>
          <div class="aui-bar-tab-label aui-font-size-12 aui-text-default">待收货</div>
          <div class="aui-badge" v-text="orderCount.wait_finish_num" v-if="orderCount.wait_finish_num"></div>
        </div>
        <div class="aui-col-5" onclick="goto('order_list', {status: 4})">
          <i class="aui-iconfont iconfont icon-daipingjia" style="font-size:1.4rem;"></i>
          <div class="aui-bar-tab-label aui-font-size-12 aui-text-default">待评价</div>
          <div class="aui-badge" v-text="orderCount.wait_comment_num" v-if="orderCount.wait_comment_num"></div>
        </div>
        <div class="aui-col-5" onclick="goto('order_list', {status: -1})">
          <i class="aui-iconfont iconfont icon-shouhou" style="font-size:1.4rem;"></i>
          <div class="aui-bar-tab-label aui-font-size-12 aui-text-default">售后服务</div>
          <div class="aui-badge" v-text="orderCount.return_goods_num" v-if="orderCount.return_goods_num"></div>
        </div>
      </div>
    </section> -->
    <div class="aui-info aui-margin-t-10 aui-padded-l-15 aui-padded-r-10 aui-bg-white aui-text-default aui-font-size-16">
      我的服务
    </div>
    <section class="aui-grid" style="margin-bottom: 2.7rem;">
      <div class="aui-row">
        <div class="aui-col-xs-4 aui-border-t" onclick="goto('bid_collections')">
          <i class="aui-iconfont iconfont icon-star" style="font-size:1.4rem;color: #ebc52e;"></i>
          <div class="aui-bar-tab-label aui-font-size-12 aui-text-default">我的收藏</div>
        </div>
        <div class="aui-col-xs-4 aui-border-t" onclick="goto('comment_list')">
          <i class="aui-iconfont iconfont icon-dingdan1" style="font-size:1.4rem;color: #ec803e;"></i>
          <div class="aui-bar-tab-label aui-font-size-12 aui-text-default">我的订阅</div>
        </div>
        <div class="aui-col-xs-4 aui-border-t" onclick="goto('address_list')">
          <i class="aui-iconfont iconfont icon-liuyan" style="font-size:1.4rem; color: #ebc52e;"></i>
          <div class="aui-bar-tab-label aui-font-size-12 aui-text-default">我的消息</div>
        </div>
        <div class="aui-col-xs-4 aui-border-t">
        </div>
      </div>
    </section>

    {include file="/index/footer" /}
  </div>
  <script>
    var avatarDom = document.getElementById('avatar');
    avatarDom.style.cssText += 'height:' + avatarDom.offsetWidth + 'px;';
    var app = new Vue({
      el: '#app',
      data: {
        activeFooterIndex: 4,
        title: '个人中心',
        user: user,
        orderCount: {
          wait_comment_num: 0,
          wait_finish_num: 0,
          wait_pay_num: 0,
          wait_ship_num: 0
        },
        level: '',
        score: '',
      },
      methods: {
        authentication: function () {
          httpRequest('POST', 'api_query/users/auth').then(function (resp) {
            var status = resp.data.status;
            if (status == 0 || status == 2) {
              goto('idcard_auth', { status: status, id: resp.data.id });
            } else if (status == 1 || status == 3) {
              goto('idcard_info');
            }
          })
        }
      },
      mounted: function () {
        httpRequest('POST', 'api_query/users/asset')
          .then(function (resp) {
            app.level = resp.data.level;
            app.score = resp.data.score;
          })
      }
    })
  </script>
</body>

</html>